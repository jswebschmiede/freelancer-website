---
import { SITE } from '../config';
---

<script>
	// import { followCursor } from '@scripts/mouse-cursor';
	import { totopButton } from '@scripts/totop-button';
	import { ObfuscateEmail } from '@scripts/obfuscateEmail';
	import { ChangeUrl } from '@scripts/changeUrl';
	import '@scripts/preloader';

	(() => {
		// init totop button
		const progressWrap = (document.querySelector('.progress-wrap') as HTMLElement) || null;
		if (progressWrap) new totopButton(progressWrap);

		new ObfuscateEmail();

		const changeUrl = document.querySelector('.navbar') as HTMLElement | null;
		const body = document.querySelector('body') as HTMLElement | null;

		if (changeUrl && !body.classList.contains('home')) {
			new ChangeUrl(changeUrl);
		}
	})();
</script>

<script is:inline define:vars={{ defaultTheme: SITE.defaultTheme }}>
	document.documentElement.classList.add('js');
</script>
